# 条件竞争

条件竞争题目比较少，所以遇到一道就整理一道。


# 题目列表

## WMCTF_2021_red_high_heels

没有去掉符号表，但是是用C++写的看起来非常难受。

### 攻击思路

1. 先多次调用red_flag，最后一次调用`\xf0\x9f\x91\xa0`，最后一次执行前会先调用clean_resource()函数，之前多次调用red_flag就是为了增大这个窗口。
2. 然后使用程序提供的ptrace功能往最后一次`\xf0\x9f\x91\xa0`的代码区域注入shellocde，注意这里要多次注入，单次注入往往不成功，我也不知道为什么可能是条件竞争的特性吧。
