32位下的堆题，开启NX和canary保护机制，增删查三个功能，其中修改功能在添加的时候实现。

功能分析：

* 添加note，先申请0xC字节的堆块作为管理堆块，前四字节存放打印函数指针，中间四字节存放释放函数指针，
最后四字节根据note类型，放数字则这四字节用来存放一个整形数据，放字符串则这四字节存放malloc申请的指针。
* 删除note，调用放在控制堆当中的释放函数去释放，但是控制堆块以及堆块内（字符串）的指针没有清空，存在UAF漏洞。
* 打印note，调用放在控制堆当中的打印函数去打印。（实际攻击过程中没有用上）

攻击思路：利用UAF漏洞以数据堆堆形式拿到控制堆，把控制堆上的函数指针修改成system_plt，然后获取shell。

踩坑点：使用控制堆的两个函数指针调用相应函数时，注意调用函数的参数是控制堆的地址，而不是数据堆的地址，一开始我一直没想明白，在数据堆上写/bin/sh然后希望system函数去执行，
后面看来其他师傅的博客才发现调用过程我理解错了。

[参考博客](https://blog.csdn.net/weixin_43921239/article/details/109252885) [参考博客](https://blog.csdn.net/qq_41706924/article/details/102250897)
